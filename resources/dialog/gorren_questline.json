{
    "nodes": {
        "start": {
            "option": "Examine Crypt",
            "name": "System",
            "text": "The air inside the crypt is thick with the scent of damp stone and decay. Flickering torchlight casts long shadows across the walls, revealing broken coffins and scattered bones. In the far corner, a figure huddles behind an overturned sarcophagus, eyes wide with panic. As you step closer, he throws up his hands defensively.",
            "children": [
                ["Approach the figure", "meet_gorren"]
            ]
        },
        "meet_gorren": {
            "name": "Gorren",
            "text": "Ah! Wait, don't attack! I-I'm not one of them!",
            "children": [
                ["Who are you?", "who_are_you"],
                ["Explain yourself!", "explain_yourself"],
                ["Give me one reason not to cut you down.", "threaten"]
            ],
            "function": "set_met_gorren"
        },
        "who_are_you": {
            "name": "Gorren",
            "text": "I'm Gorren. Gorren the... uh, Grave-Touched. Listen, I know how this looks, but I didn't mean for any of this to happen!",
            "children": [
                ["What do you mean?", "what_happened"],
                ["Grave-Touched? What kind of title is that?", "title"]
            ]
        },
        "explain_yourself": {
            "name": "Gorren",
            "text": "Alright! Just-just hear me out. I was trying to... well, practice a bit of necromancy. And it sort of went horribly wrong. But I didn't mean for them to attack anyone!",
            "children": [
                ["You're a necromancer?", "necromancer"],
                ["So this is your fault?", "blame"]
            ]
        },
        "threaten": {
            "name": "Gorren",
            "text": "W-wait! I'm not your enemy! I was just trying to practice necromancy, and things got out of hand! I swear I wasn't trying to hurt anyone!",
            "children": [
                ["So this is your fault?", "blame"],
                ["Start explaining.", "explain_yourself"]
            ]
        },
        "what_happened": {
            "name": "Gorren",
            "text": "I tried to raise a few corpses-nothing major! But the spells went wild, and now these things don't listen to me. I had to run before they tore me apart!",
            "children": [
                ["You tried to raise the dead and lost control?", "blame"],
                ["How long have you been at this?", "how_long"]
            ]
        },
        "title": {
            "name": "Gorren",
            "text": "It's, uh, a work-in-progress title. Makes me sound more mysterious, doesn't it? Well, it would if I wasn't hiding in a crypt...",
            "children": [
                ["What exactly happened here?", "what_happened"],
                ["So you admit you're a fraud?", "fraud"]
            ]
        },
        "necromancer": {
            "name": "Gorren",
            "text": "Sort of! An aspiring one, really. Just trying to make a name for myself. But, uh, clearly I have some learning to do.",
            "children": [
                ["You tried to raise the dead and lost control?", "blame"],
                ["How long have you been at this?", "how_long"]
            ]
        },
        "blame": {
            "name": "Gorren",
            "text": "Alright, yes! It's my fault! But I didn't mean for it to go this way. I just wanted to prove I could do it, you know? Now everything's a mess...",
            "children": [
                ["And what were you trying to prove?", "prove"],
                ["So what do we do now?", "what_now"]
            ]
        },
        "how_long": {
            "name": "Gorren",
            "text": "A while! Well... alright, not that long. Maybe a few months? But I've read plenty of books, and I thought I had it under control!",
            "children": [
                ["Clearly, you didn't.", "mock"],
                ["So what do we do now?", "what_now"]
            ]
        },
        "fraud": {
            "name": "Gorren",
            "text": "Hey! I'm *trying*, alright? Necromancy isn't exactly something you can just practice in broad daylight. I've had to learn in secret.",
            "children": [
                ["And what were you trying to prove?", "prove"],
                ["So what do we do now?", "what_now"]
            ]
        },
        "prove": {
            "name": "Gorren",
            "text": "I just... wanted to show that I could do something special. Something powerful. Everyone thinks necromancy is all doom and gloom, but I think it has potential!",
            "children": [
                ["Potential? You're raising the dead!", "mock"],
                ["And what now?", "what_now"]
            ]
        },
        "mock": {
            "name": "Gorren",
            "text": "Yeah, yeah, I get it. I messed up. No need to rub it in. Can we focus on not getting eaten, please?",
            "children": [
                ["Fair enough. What now?", "what_now"]
            ]
        },
        "what_now": {
            "name": "Gorren",
            "text": "Uh... we might want to stop talking and start preparing. Because I hear more of them coming. And this time, I don't think they'll just stumble around...",
            "children": [
                ["Great. Get ready.", "ambush"]
            ]
        },
        "ambush": {
            "name": "System",
            "text": "Before you can say another word, more Patchwork Dead claw their way out of the ground, groaning hungrily. The fighting isn't over yet!",
            "children": [
                ["Finish Talking", "None"]
            ],
            "function": "add_corpse_pile_encounter_2"
        },



        "pre_combat": {
            "name": "Gorren",
            "text": "Uh... look, we can chat later, but I think we have bigger problems right now. You *do* hear the groaning, right?",
            "children": [
                ["What's the plan?", "plan"],
                ["Are you sure this was all an accident?", "accident"],
                ["Stay here. I'll handle this.", "handle_alone"]
            ]
        },
        "plan": {
            "name": "Gorren",
            "text": "The plan? The plan is not dying! We hold our ground, take them down, and maybe—*maybe*—I figure out how to stop this mess!",
            "children": [
                ["Alright, let's do this.", "start_combat"]
            ]
        },
        "accident": {
            "name": "Gorren",
            "text": "Yes! Well, mostly! Look, I might have gotten a few incantations wrong, but I wasn't trying to unleash a zombie horde!",
            "children": [
                ["We'll deal with this first. Then we talk.", "start_combat"]
            ]
        },
        "handle_alone": {
            "name": "Gorren",
            "text": "Oh sure, go ahead! Just leave the guy who *caused* the problem alone in a crypt full of angry corpses. What could go wrong?",
            "children": [
                ["Fine, stick close and try not to die.", "start_combat"]
            ]
        },
        "start_combat": {
            "name": "System",
            "text": "The Patchwork Dead lurch forward, their groans growing louder.",
            "children": [
                ["Finish Talking", "None"]
            ]
        },



        "post_combat": {
            "name": "Gorren",
            "text": "Okay... okay... I think that's the last of them. That went *way* better than I expected. Uh, thanks for not letting me die.",
            "children": [
                ["You owe me an explanation.", "explanation"],
                ["So what now?", "so_what_now"],
                ["This was a disaster. Stay out of my way.", "leave"]
            ]
        },
        "explanation": {
            "name": "Gorren",
            "text": "Right! Right. Long story short, I wanted to prove I could handle necromancy. Turns out, I couldn't. But I swear, I can be useful if you give me a chance!",
            "children": [
                ["And why should I trust you?", "trust"],
                ["Alright, you're coming with me.", "recruit"],
                ["No thanks. Stay here.", "reject"]
            ]
        },
        "so_what_now": {
            "name": "Gorren",
            "text": "Well, I'd rather not stick around and wait for more corpses to crawl out of the ground. Maybe I, uh, tag along with you? Safety in numbers, right?",
            "children": [
                ["Alright, you're coming with me.", "recruit"],
                ["No thanks. Stay here.", "reject"]
            ]
        },
        "trust": {
            "name": "Gorren",
            "text": "Look, I get it. I messed up *big time.* But I learned my lesson! No more reckless experiments. Just let me prove I can help.",
            "children": [
                ["Fine. You can join me.", "recruit"],
                ["No. I don't need a liability.", "reject"]
            ]
        },
        "recruit": {
            "name": "System",
            "text": "Gorren has joined your party! You can keep him as a Necromancer, or reclass him into a Shadowblade or Hexer.",
            "children": [
                ["Necromancer", "None"]
            ],
            "function": "add_gorren_to_party"
        },
        "reject": {
            "name": "Gorren",
            "text": "Yeah... yeah, I figured. Guess I'll, uh, find my own way out of this mess. Stay safe, I guess.",
            "children": [
                ["Leave", "None"]
            ],
            "function": "reject_gorren"
        },
        "leave": {
            "name": "Gorren",
            "text": "Y-yeah, fair enough. I'll just... get out of your way, then.",
            "children": [
                ["Leave", "None"]
            ],
            "function": "reject_gorren"
        },



        "second_chance": {
            "name": "Gorren",
            "text": "Oh. It's you again. Thought you were done with me. Changed your mind, or just here to gloat?",
            "children": [
                ["I could use your skills after all.", "reconsider"],
                ["Don't get your hopes up. Just checking in.", "checking_in"],
                ["No, I just wanted to make sure you're still alive.", "alive"]
            ]
        },
        "reconsider": {
            "name": "Gorren",
            "text": "Really? You mean it? I promise I won't let you down. No more rogue zombies, I swear!",
            "children": [
                ["Alright, you're in. Don't make me regret this.", "recruit"],
                ["On second thought, never mind.", "reject_again"]
            ]
        },
        "checking_in": {
            "name": "Gorren",
            "text": "Well, I appreciate the concern. Or maybe you're just making sure I haven't raised another undead army, huh?",
            "children": [
                ["I could actually use your help.", "reconsider"],
                ["Just making sure. See you around.", "leave_2"]
            ]
        },
        "alive": {
            "name": "Gorren",
            "text": "Yeah, still breathing. And still regretting *everything* about today.",
            "children": [
                ["Actually… maybe you should come with me.", "reconsider"],
                ["That's all I needed to know. Goodbye.", "leave_2"]
            ]
        },
        "reject_again": {
            "name": "Gorren",
            "text": "Wow. Got my hopes up for nothing. Yeah, thanks for that.",
            "children": [
                ["Leave", "None"]
            ],
            "function": "reject_gorren"
        },
        "leave_2": {
            "name": "Gorren",
            "text": "Right. Well, take care out there. And if you run into more undead, uh… good luck?",
            "children": [
                ["Leave", "None"]
            ],
            "function": "reject_gorren"
        }
    }
}
